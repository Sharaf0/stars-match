(this["webpackJsonpstars-match"]=this["webpackJsonpstars-match"]||[]).push([[0],{10:function(e,t,r){e.exports=r(19)},15:function(e,t,r){},19:function(e,t,r){"use strict";r.r(t);var n=r(0),u=r.n(n),a=r(7),s=r.n(a),o=(r(15),r(4)),c=function(e){var t=Object(n.useState)(!1),r=Object(o.a)(t,2),a=r[0],s=r[1],c=function(e){s(e)},i={borderWidth:"1px",borderColor:"grey",borderStyle:"solid",margin:"1px"};switch(a&&("TAKEN"===e.status?i.cursor="no-drop":i.cursor="pointer"),e.status){case"TAKEN":i.backgroundColor="lightgreen";break;case"MARKED":i.backgroundColor="lightblue";break;case"WRONG":i.backgroundColor="orangered";break;case"DEFAULT":i.backgroundColor="transparent";break;default:throw new Error("Number status ".concat(e.status," is not considered as a valid status"))}return u.a.createElement("div",{className:"col-lg-3",style:i,onClick:function(){return e.onNumberClick(e)},onMouseEnter:function(){return c(!0)},onMouseLeave:function(){return c(!1)}},u.a.createElement("h3",null,e.value))},i=function(e){return u.a.createElement("div",{className:"row"},e.numbers.map((function(t){return u.a.createElement(c,{key:t.number,value:t.number,status:t.status,onNumberClick:e.onNumberClick})})))},l=function(e){return u.a.createElement("div",{style:{position:"absolute",top:e.top,left:e.left,height:e.size,width:e.size}},u.a.createElement("img",{width:e.size,alt:e.value,src:"star.png"}))},m=r(9),b=function(e){return Object(m.a)(Array(e).keys()).map((function(e){return e+1}))};function f(e,t,r,n){for(var u=[],a=0,s=function(){var e=function(e,t){return{x:Math.random()*t,y:Math.random()*e}}(r-t,n-t),s={left:e.x,top:e.y};if(u.some((function(e){return function(e,t,r){return n={left:e.left,right:e.left+r,top:e.top,bottom:e.top+r},!((u={left:t.left,right:t.left+r,top:t.top,bottom:t.top+r}).left>n.right||u.right<n.left||u.top>n.bottom||u.bottom<n.top);var n,u}(e,s,t)}))||(u.push(s),a=0),1e6===++a)throw new Error("Infinite loop detected!")};u.length<e;)s();return u}var d=function(e){var t={borderWidth:1,borderStyle:"solid",borderColor:"black",width:e.width,height:e.height},r=e.starSize,a=Object(n.useMemo)((function(){var n=b(e.number);return f(e.number,r,e.height-t.borderWidth,e.width-t.borderWidth).map((function(e,t){return{number:n[t],left:e.left,top:e.top}}))}),[t.borderWidth,e.height,e.width,e.number,r]);return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"row",style:t},a.map((function(e){return u.a.createElement(l,{key:e.number,value:e.number,size:r,top:e.top,left:e.left})}))))},p=r(2),E=r.n(p),h=function(e){var t=e.filter((function(e){return"DEFAULT"===e.status})).map((function(e){return e.number}));return 0===t.length?0:1===t.length?t[0]:E.a.shuffle(t).slice(0,2).reduce((function(e,t){return e+t}),0)},g=function(e,t){switch(t.type){case"INIT":return h(t.numbers);case"CLICKED_ON_DEFAULT":return e===t.numbers.filter((function(e){return"MARKED"===e.status||"WRONG"===e.status})).map((function(e){return e.number})).reduce((function(e,t){return e+t}),0)+t.number?h(E.a.reject(t.numbers,{number:t.number})):e;case"CLICKED_ON_WRONG":return e===t.numbers.filter((function(e){return"MARKED"===e.status||"WRONG"===e.status})).map((function(e){return e.number})).reduce((function(e,t){return e+t}),0)-t.number?h(E.a.reject(t.numbers,{number:t.number})):e;default:return e}},v=r(1),N=function(e,t){switch(t.type){case"INIT":return t.numbers;case"CLICKED_ON_DEFAULT":var r=e.filter((function(e){return"MARKED"===e.status||"WRONG"===e.status})).map((function(e){return e.number})).reduce((function(e,t){return e+t}),0)+t.number;if(r===t.currentStarsCount)return e.map((function(e){return"MARKED"===e.status||e.number===t.number?Object(v.a)({},e,{status:"TAKEN"}):e}));if(r>t.currentStarsCount)return e.map((function(e){return"MARKED"===e.status||e.number===t.number?Object(v.a)({},e,{status:"WRONG"}):e}));if(r<t.currentStarsCount)return E.a.some(e,(function(e){return"WRONG"===e.status}))?e.map((function(e){return e.number===t.number?Object(v.a)({},e,{status:"WRONG"}):e})):e.map((function(e){return e.number===t.number?Object(v.a)({},e,{status:"MARKED"}):e}));break;case"CLICKED_ON_MARKED":return e.map((function(e){return e.number===t.number?Object(v.a)({},e,{status:"DEFAULT"}):e}));case"CLICKED_ON_TAKEN":break;case"CLICKED_ON_WRONG":var n=e.filter((function(e){return"WRONG"===e.status})).map((function(e){return e.number})).reduce((function(e,t){return e+t}),0)-t.number;if(n===t.currentStarsCount)return e.map((function(e){return"WRONG"===e.status&&e.number!==t.number?Object(v.a)({},e,{status:"TAKEN"}):e.number===t.number?Object(v.a)({},e,{status:"DEFAULT"}):e}));if(n>t.currentStarsCount)return e.map((function(e){return e.number===t.number?Object(v.a)({},e,{status:"DEFAULT"}):e}));if(n<t.currentStarsCount)return e.map((function(e){return"WRONG"===e.status&&e.number!==t.number?Object(v.a)({},e,{status:"MARKED"}):e.number===t.number?Object(v.a)({},e,{status:"DEFAULT"}):e}))}return e},C=function(e){var t=e.config,r=Object(n.useReducer)(N,null),a=Object(o.a)(r,2),s=a[0],c=a[1],l=Object(n.useReducer)(g,null),m=Object(o.a)(l,2),f=m[0],p=m[1],E=Object(n.useMemo)((function(){return 0===f}),[f]);Object(n.useEffect)((function(){v()}),[]);var h=Object(n.useCallback)((function(e){switch(e.status){case"TAKEN":return p({type:"CLICKED_ON_TAKEN",number:e.value,numbers:s}),void c({type:"CLICKED_ON_TAKEN",number:e.value,currentStarsCount:f});case"MARKED":return p({type:"CLICKED_ON_MARKED",number:e.value,numbers:s}),void c({type:"CLICKED_ON_MARKED",number:e.value,currentStarsCount:f});case"WRONG":return p({type:"CLICKED_ON_WRONG",number:e.value,numbers:s}),void c({type:"CLICKED_ON_WRONG",number:e.value,currentStarsCount:f});case"DEFAULT":return p({type:"CLICKED_ON_DEFAULT",number:e.value,numbers:s}),void c({type:"CLICKED_ON_DEFAULT",number:e.value,currentStarsCount:f});default:throw new Error("Number status ".concat(e.status," is not considered as a valid status"))}}),[s,f]),v=function(){var e,r=(e=t.gameLimit,b(e).map((function(e){return{number:e,status:"DEFAULT"}})));c({type:"INIT",numbers:r}),p({type:"INIT",numbers:r})};return E?u.a.createElement("div",{style:{textAlign:"center"}},"You Won",u.a.createElement("div",null,u.a.createElement("button",{onClick:v},"Play again?"))):null===s?"loading...":u.a.createElement("div",{className:"container"},u.a.createElement("div",{className:"row"},u.a.createElement("div",{style:{textAlign:"center"},className:"col-lg-6"},u.a.createElement(d,{number:f,height:t.starsHeight,width:t.starsWidth,starSize:t.starSize})),u.a.createElement("div",{style:{textAlign:"center"},className:"col-lg-6"},u.a.createElement(i,{numbers:s,onNumberClick:h}))),u.a.createElement("div",{style:{textAlign:"center"}},u.a.createElement("span",null,"Can't go further? "),u.a.createElement("button",{onClick:v},"Play again?")))},O=(r(18),{gameLimit:20,starSize:50,starsHeight:400,starsWidth:400}),y=r(8);var A=function(){return u.a.createElement(u.a.Fragment,null,u.a.createElement(C,{config:O}),u.a.createElement("pre",{style:{textAlign:"center"}},"Version: ".concat(y.version)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(u.a.createElement(u.a.StrictMode,null,u.a.createElement(A,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},8:function(e){e.exports=JSON.parse('{"name":"stars-match","version":"2.0.0","private":true,"homepage":".","dependencies":{"@testing-library/jest-dom":"^4.2.4","@testing-library/react":"^9.3.2","@testing-library/user-event":"^7.1.2","bootstrap":"^4.4.1","gh-pages":"^2.2.0","lodash":"^4.17.15","react":"^16.13.1","react-dom":"^16.13.1","react-scripts":"3.4.1","reactstrap":"^8.4.1"},"scripts":{"start":"react-scripts start","build":"react-scripts build","test":"react-scripts test","eject":"react-scripts eject","deploy":"gh-pages -d build","predeploy":"npm run build"},"eslintConfig":{"extends":"react-app"},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]}}')}},[[10,1,2]]]);
//# sourceMappingURL=main.4cbf978c.chunk.js.map